import{r as t,c as e,h as o,g as r}from"./p-9031eb6a.js";import{a as p,c as i,o as a,f as s,s as n,b as d}from"./p-9149b16e.js";import{O as l}from"./p-23975bfb.js";import{t as c}from"./p-a818a41d.js";import{g as h}from"./p-3e6097e5.js";import{f as x}from"./p-e526bdc0.js";const g=class{constructor(o){t(this,o),this.guxdismiss=e(this,"guxdismiss",7),this.for=void 0,this.position="bottom",this.displayDismissButton=void 0,this.closeOnClickOutside=!1,this.isOpen=!1}checkForClickOutside(t){const e=t.composedPath(),o=x(this.root,this.for),r=e.includes(o);!this.closeOnClickOutside&&this.displayDismissButton||!this.isOpen||r||this.dismiss()}get titleSlot(){return h(this.root,"title")}runUpdatePosition(){this.cleanupUpdatePosition=p(x(this.root,this.for),this.popupElement,(()=>this.updatePosition()),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0})}updatePosition(){const t=x(this.root,this.for);this.popupElement&&i(t,this.popupElement,{placement:this.position,middleware:[a(7),s(),n(),d({element:this.arrowElement,padding:16})]}).then((({x:t,y:e,middlewareData:o,placement:r})=>{Object.assign(this.popupElement.style,{left:`${t}px`,top:`${e}px`});const p={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]];if(o.arrow){const{x:t,y:e}=o.arrow;this.popupElement.setAttribute("data-placement",r),Object.assign(this.arrowElement.style,{left:null!=t?`${t}px`:"",top:null!=e?`${e}px`:"",right:"",bottom:"",[p]:"-6.5px",transform:"rotate(45deg)"})}}))}dismiss(){this.guxdismiss.emit().defaultPrevented||(this.isOpen=!1)}connectedCallback(){c(this.root,{variant:this.position})}componentDidLoad(){this.isOpen&&this.runUpdatePosition()}componentDidUpdate(){this.isOpen?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}renderDismissButton(){if(this.displayDismissButton)return o("gux-dismiss-button",{onClick:this.dismiss.bind(this),position:"inherit"})}render(){return o("div",{ref:t=>this.popupElement=t,class:{"gux-hidden":!this.isOpen,"gux-popover-wrapper":!0},"data-placement":!0},o("div",{ref:t=>this.arrowElement=t,class:"gux-arrow"}),o("div",{class:{"gux-popover-header":Boolean(this.titleSlot)}},o("slot",{name:"title"}),this.renderDismissButton()),o("div",{class:"gux-popover-content"},o("slot",null)))}get root(){return r(this)}};(function(t,e,o,r){var p,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(p=t[s])&&(a=(i<3?p(a):i>3?p(e,o,a):p(e,o))||a);i>3&&a&&Object.defineProperty(e,o,a)})([l({triggerEvents:"mousedown"})],g.prototype,"checkForClickOutside",null),g.style=".gux-popover-wrapper{position:absolute;top:0;left:0;z-index:var(--gux-zindex-popover, 2);display:inline-block;padding:16px;color:#2e394c;background-color:#fdfdfd;border-radius:4px;box-shadow:0 3px 14px rgba(46, 57, 76, 0.22)}.gux-popover-wrapper.gux-hidden{display:none}.gux-popover-wrapper .gux-arrow{position:absolute;width:10px;height:10px;background:inherit}.gux-popover-wrapper[data-placement='bottom'] .gux-arrow,.gux-popover-wrapper[data-placement='bottom-start'] .gux-arrow,.gux-popover-wrapper[data-placement='bottom-end'] .gux-arrow{border-top:1px solid #b4bccb;border-left:1px solid #b4bccb}.gux-popover-wrapper[data-placement='top'] .gux-arrow,.gux-popover-wrapper[data-placement='top-start'] .gux-arrow,.gux-popover-wrapper[data-placement='top-end'] .gux-arrow{border-right:1px solid #b4bccb;border-bottom:1px solid #b4bccb}.gux-popover-wrapper[data-placement='left'] .gux-arrow,.gux-popover-wrapper[data-placement='left-start'] .gux-arrow,.gux-popover-wrapper[data-placement='left-end'] .gux-arrow{border-top:1px solid #b4bccb;border-right:1px solid #b4bccb}.gux-popover-wrapper[data-placement='right'] .gux-arrow,.gux-popover-wrapper[data-placement='right-start'] .gux-arrow,.gux-popover-wrapper[data-placement='right-end'] .gux-arrow{border-bottom:1px solid #b4bccb;border-left:1px solid #b4bccb}.gux-popover-wrapper .gux-popover-header{font-size:12px;line-height:20px;font-family:Roboto, sans-serif;font-weight:400;font-weight:700;display:flex;flex-direction:row;align-content:center;align-items:center;justify-content:space-between;padding-bottom:16px}.gux-popover-wrapper gux-dismiss-button{float:right}";export{g as gux_popover_beta}