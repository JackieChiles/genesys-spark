import{r as t,c as i,h as e}from"./p-9031eb6a.js";import{a as s,c as a,o as n,d as o,f as p}from"./p-9149b16e.js";const r=class{constructor(e){t(this,e),this.internalexpanded=i(this,"internalexpanded",7),this.internalcollapsed=i(this,"internalcollapsed",7),this.expanded=!1,this.disabled=!1}runUpdatePosition(){this.cleanupUpdatePosition=s(this.targetElementContainer,this.popupElementContainer,(()=>this.updatePosition()),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0})}updatePosition(){if(this.targetElementContainer&&this.popupElementContainer){const t=this.popupElementContainer;a(this.targetElementContainer,this.popupElementContainer,{strategy:"fixed",placement:"bottom-start",middleware:[n(2),o({apply({rects:i}){Object.assign(t.style,{width:`${i.reference.width}px`})}}),p()]}).then((({x:t,y:i})=>{Object.assign(this.popupElementContainer.style,{left:`${t}px`,top:`${i}px`})}))}}onExpandedChange(t){t?this.internalexpanded.emit():this.internalcollapsed.emit()}componentDidLoad(){this.expanded&&this.runUpdatePosition()}componentDidUpdate(){this.expanded?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}render(){return e("div",{class:{"gux-target-container":!0,"gux-disabled":this.disabled},ref:t=>this.targetElementContainer=t},e("slot",{name:"target"}),e("div",{class:{"gux-popup-container":!0,"gux-expanded":this.expanded&&!this.disabled},ref:t=>this.popupElementContainer=t},e("slot",{name:"popup"})))}static get watchers(){return{expanded:["onExpandedChange"]}}};r.style=".gux-target-container.gux-disabled{pointer-events:none;cursor:default;opacity:0.5}.gux-popup-container{position:fixed;z-index:var(--gux-zindex-popup, 1);visibility:hidden}.gux-popup-container.gux-expanded{visibility:visible}";export{r as gux_popup_beta}