@import (reference) '../../../style/typography.less';
@import (reference) '../../../style/color.less';
@import (reference) '../../../style/spacing.less';

// Variables part
@min-modal-inset: @spacing-large;

// Style
gux-modal {
  .gux-modal {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    background: fade(@gux-black-30, 0.8);
    z-index: 1;

    .gux-modal-container {
      display: flex;
      flex-direction: column;
      position: relative;
      box-sizing: border-box;
      padding: 40px;
      justify-content: space-between;
      background: @gux-background;
      box-shadow: 0 0 2px fade(@gux-black-30, 24%);

      &.gux-small {
        max-height: e(%('min(368px, 100vh - 2 * %s)', @min-modal-inset));
        width: 416px;
      }

      &.gux-medium {
        max-height: e(%('min(640, 100vh - 2 * %s)', @min-modal-inset));
        width: 672px;
      }

      &.gux-large {
        max-height: e(%('min(640, 100vh - 2 * %s)', @min-modal-inset));
        width: 940px;
      }

      &.gux-dynamic {
        max-height: calc(100vh - 2 * @min-modal-inset);
        max-width: calc(100vw - 2 * @min-modal-inset);

        .gux-modal-content {
          max-height: none;
        }
      }

      .gux-dismiss-button {
        position: absolute;
        top: 15px;
        right: 15px;
        padding: 0;
        border: none;
        background: transparent;
        font-size: 11px;
        color: @gux-type;
        cursor: pointer;

        gux-icon {
          width: 12px;
          height: 12px;
        }
      }

      .gux-modal-header {
        margin: 0;
        padding-bottom: 24px;
        .h1();
      }

      .gux-modal-content {
        margin: 0 8px 24px 8px;
        max-height: 432px;
        overflow-y: auto;

        &.gux-no-buttons {
          margin-bottom: 0;
        }
      }

      .gux-button-footer {
        display: flex;
        justify-content: space-between;

        .gux-left-align-buttons {
          gux-button {
            padding-right: 5px;
          }
        }

        .gux-right-align-buttons {
          gux-button {
            padding-left: 5px;
          }
        }
      }
    }

    .gux-modal-container {
      @media (max-width: 416px) {
        &.gux-small,
        &.gux-medium,
        &.gux-large {
          height: 100%;
          width: 100%;
        }
      }
    }
  }
}

// Theming

// Dark
.gux-modal-dark-theme {
  color: @gux-type-dark;

  .gux-modal-container {
    background: @gux-black-50;
  }
}

.gux-dark-theme {
  gux-modal {
    .gux-modal-dark-theme();
  }
}

gux-modal.gux-dark-theme {
  .gux-modal-dark-theme();
}

// Light
.gux-modal-light-theme {
  color: @gux-type;
}

.gux-light-theme {
  gux-modal {
    .gux-modal-light-theme();
  }
}

gux-modal.gux-light-theme {
  .gux-modal-light-theme();
}

// Default Theme
gux-modal {
  .gux-modal-light-theme();
}
